<!DOCTYPE html>
<html lang="en">

<head>
    <title>Mobi Health</title>
    <!-- HTML5 Shim and Respond.js IE10 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 10]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="Datta Able Bootstrap admin template made using Bootstrap 4 and it has huge amount of ready made feature, UI components, pages which completely fulfills any dashboard needs." />
    <meta name="keywords" content="admin templates, bootstrap admin templates, bootstrap 4, dashboard, dashboard templets, sass admin templets, html admin templates, responsive, bootstrap admin templates free download,premium bootstrap admin templates, datta able, datta able bootstrap admin template, free admin theme, free dashboard template"/>
    <meta name="author" content="CodedThemes"/>

    <!-- Favicon icon -->
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <!-- fontawesome icon -->
    <link rel="stylesheet" href="assets/fonts/fontawesome/css/fontawesome-all.min.css">
    <!-- animation css -->
    <link rel="stylesheet" href="assets/plugins/animation/css/animate.min.css">
    <!-- vendor css -->
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .container {
            margin-left: 20%;
        }
    </style>
</head>

<body>
    <!-- [ Pre-loader ] start -->
    <div class="loader-bg">
        <div class="loader-track">
            <div class="loader-fill"></div>
        </div>
    </div>
    <!-- [ Pre-loader ] End -->

    <!-- [ navigation menu ] start -->
    <nav class="pcoded-navbar">
        <div class="navbar-wrapper">
            <div class="navbar-brand header-logo">
                <a href="index.html" class="b-brand">
                    <div class="b-bg">
                        <i class="feather icon-heart"></i>
                    </div>
                    <span class="b-title">Mobi_Health</span>
                </a>
                <a class="mobile-menu" id="mobile-collapse" href="javascript:"><span></span></a>
            </div>
            <div class="navbar-content scroll-div">
                <ul class="nav pcoded-inner-navbar">
                    <li class="nav-item pcoded-menu-caption">
                        <label>Main</label>
                    </li>
                    <li data-username="dashboard Default Ecommerce CRM Analytics Crypto Project" class="nav-item active">
                        <a href="index.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-home"></i></span><span class="pcoded-mtext">Dashboard</span></a>
                    </li>
                    <li class="nav-item pcoded-menu-caption">
                        <label>Patient Management System</label>
                    </li>
                    <li data-username="basic components Button Alert Badges breadcrumb Paggination progress Tooltip popovers Carousel Cards Collapse Tabs pills Modal Grid System Typography Extra Shadows Embeds" class="nav-item pcoded-hasmenu">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-box"></i></span><span class="pcoded-mtext">Mobi_Health</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="SmartCard.html" class="">Smart Health Card</a></li>
                            <li class=""><a href="index.html" class="">Appointments</a></li>
                            <li class=""><a href="index.html" class="">History</a></li>
                            <li class=""><a href="index.html" class="">Finances</a></li>
                            <li class=""><a href="index.html" class="">Medications</a></li>
                            <li class=""><a href="index.html" class="">Funding</a></li>


                            <li class=""><a href="index.html" class="">Intelligent Management<span class="pcoded-badge label label-danger">NEW</span></a></li>
                        </ul>
                    </li>
                    <li class="nav-item pcoded-menu-caption">
                        <label>Staff Managenment</label>
                    </li>
                    <li data-username="form elements advance componant validation masking wizard picker select" class="nav-item">
                        <a href="index.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Full time members</span></a>
                    </li>
                    <li data-username="Table bootstrap datatable footable" class="nav-item">
                        <a href="https://github.com/slic-rick/mobil-health/tree/main" class="nav-link "><span class="pcoded-micon"><i class="feather icon-server"></i></span><span class="pcoded-mtext">Connect to Managenment System</span></a>
                    </li>
                    <li class="nav-item pcoded-menu-caption">
                        <label>Medication</label>
                    </li>
                    <li data-username="Charts Morris" class="nav-item"><a href="index.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-pie-chart"></i></span><span class="pcoded-mtext">Currently Available</span></a></li>
                    <li data-username="Maps Google" class="nav-item"><a href="index.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-map"></i></span><span class="pcoded-mtext">Most Urgent</span></a></li>
                    <li class="nav-item pcoded-menu-caption">
                        <label>More</label>
                    </li>
                    <li data-username="Authentication Sign up Sign in reset password Change password Personal information profile settings map form subscribe" class="nav-item pcoded-hasmenu">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i class="feather icon-lock"></i></span><span class="pcoded-mtext">Authentication</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="auth-signup.html" class="" target="_blank">Sign up</a></li>
                            <li class=""><a href="auth-signin.html" class="" target="_blank">Sign in</a></li>
                        </ul>
                    </li>
                    <li data-username="Disabled Menu" class="nav-item disabled"><a href="javascript:" class="nav-link"><span class="pcoded-micon"><i class="feather icon-power"></i></span><span class="pcoded-mtext">Disabled menu</span></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- [ navigation menu ] end -->

    <!-- [ Header ] start -->
    <header class="navbar pcoded-header navbar-expand-lg navbar-light">
        <div class="m-header">
            <a class="mobile-menu" id="mobile-collapse1" href="javascript:"><span></span></a>
            <a href="index.html" class="b-brand">
                   <div class="b-bg">
                       <i class="feather icon-trending-up"></i>
                   </div>
                   <span class="b-title">Datta Able</span>
               </a>
        </div>
        <a class="mobile-menu" id="mobile-header" href="javascript:">
            <i class="feather icon-more-horizontal"></i>
        </a>
    </header>
    <div class="container">
        <!-- Display the Patient ID at the top of the page -->
        <h1>Patient ID: <span id="patientID"> Selma1234</span></h1>

        <!-- Patient Data Display Area -->
        <div id="patientInfo" style="display: none;">
            
        </div>

        <!-- PIN Input Form -->
        <label for="pinInput">Enter PIN of Patient:</label>
        <input type="text" id="pinInput" placeholder="Enter PIN">
        <button id="checkPINBtn">Check PIN</button>
    </div>

    <script>
        // JavaScript to fetch and display patient ID at the top of the page
        // const patientIDElement = document.getElementById("patientID");

        // Function to fetch patient ID
        function fetchPatientID() {
            // Make an AJAX request to your API endpoint to get the patient ID
            fetch('https://example/scanned_qr_code.php')
                .then(response => response.text())
                .then(patientID => {
                    patientIDElement.textContent = patientID;
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }

        // Call the function to fetch patient ID
        fetchPatientID();
    </script>

    <script>
        // JavaScript to fetch and display patient data
        const patientInfoElement = document.getElementById("patientInfo");
        const pinInputElement = document.getElementById("pinInput");
        const checkPINButton = document.getElementById("checkPINBtn");

        // Function to display patient data
        function displayPatientData(data) {
            patientInfoElement.style.display = "block";
            // Update the patientInfoElement with the retrieved data
            patientInfoElement.innerHTML = data;
        }

        function fetchPatientData(patientCode) {
            // Make an AJAX request to your API endpoint
            fetch(`https://example/fetch_patient.php?code=${patientCode}`)
                .then(response => response.text())
                .then(data => {
                    displayPatientData(data);
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        }

        // Function to check the entered PIN
       // Function to check the entered PIN
function checkPIN() {
    const enteredPIN = pinInputElement.value;
    const patientCode = patientIDElement.textContent; // Use the actual patient ID from the link

    // Make an AJAX request to your server to verify the PIN
    fetch(`https://example/verify_pin.php?code=${patientCode}&pin=${enteredPIN}`)
        .then(response => response.json())
        .then(data => {
            if (data.valid) {
                fetchPatientData(patientCode);
            } else {
                patientInfoElement.style.display = "none";
                alert("PIN is incorrect.");
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
}


        // Attach a click event handler to the "Check PIN" button
        checkPINButton.addEventListener("click", checkPIN);
    </script>

  
    <!-- Required Js -->
<script src="assets/js/vendor-all.min.js"></script>
	<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/pcoded.min.js"></script>


</body>
</html>
